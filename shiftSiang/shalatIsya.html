<HTML lang="en" data-bs-theme="light">
    <head>
        <title>SHALAT ISYA'</title>
        <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"
      rel="stylesheet"
    />
        <style type="text/css">
            #send_form {
                color: #fff;
                background: #4e4e4e;
                text-decoration: none;
                display: inline-block;
                padding: 10px 25px;
                border-radius: .3rem;
                font-weight: 700;
                letter-spacing: .5px;
                font-size: 15px;
                float: right;
            }

        </style>

        <script src='https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    </head>
    
    <div class="container-sm">
           <body style="background-color:rgb(255, 255, 255);">
            <h1>LAPORAN SHALAT ISYA' DI MASJID</h1>
            <form>
                
                <fieldset class="form-group border p-3">
                    <div class="mb-3">
                    <label class="form-label">Blok B</label>
                    <input type="number" class="form-control" id="blokB" required="" >
                </div>

                <div class="mb-3">
                    <label class="form-label">Blok C</label>
                    <input type="number" class="form-control" id="blokC" required="" >
                </div>

                <div class="mb-3">
                    <label class="form-label">Blok D</label>
                    <input type="number" class="form-control" id="blokD" required="">
                </div>

                <div class="mb-3">
                    <label class="form-label">Blok E</label>
                    <input type="number" class="form-control" id="blokE" required="" onkeyup="getjumlahSeluruh()">
                </div>

                <div class="mb-3">
                    <label class="form-label">Jumlah</label>
                    <input type="number" class="form-control" id="jumlah" name="jumlah"  required="" >

                    <script>
                        function getjumlahSeluruh ()
                        {
                         //deklarasi variable
                         var hasilSeluruh;
                         var blokB;
                         var blokC;
                         var blokD;
                         var blokE;
                         //input
                         input_blokB = parseInt(document .
                         getElementById("blokB").
                         value);
                         input_blokC = parseInt(document .
                         getElementById("blokC").
                         value);
                         input_blokD = parseInt(document .
                         getElementById("blokD").
                         value);
                         input_blokE = parseInt(document .
                         getElementById("blokE").
                         value);
                       
                         //proses
                         hasilSeluruh = input_blokB + input_blokC + input_blokD + input_blokE;
                         //output
                         document.getElementById("jumlah") .value = hasilSeluruh;
                        }
                       </script>


                </div>

                <a class="send_form" id="send_form" href="javascript:void" type="submit" title="Send to Whatsapp"> <i class="fa fa-paper-plane"></i>  Kirim</a>

                </fieldset>
           
    
 
            </form>
            <br><br>
    </div>
    
    <script type="text/javascript">
        //<![CDATA[
        $(document).on('click', '.send_form', function () {
            var input_blanter = document.getElementById('jumlah');
            /* Whatsapp Settings */
            var walink = 'https://web.whatsapp.com/send',
                phone = '',
                walink2 = 'Halo saya ingin Memesan ',
                text_yes = 'Terkirim.',
                text_no = 'Isi semua Formulir lalu klik Send.';
    
            /* Smartphone Support */
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                var walink = 'whatsapp://send';
            }
    
            if ("" != input_blanter.value) {
    
                /* Call Input Form */
                var input_jumlah=$("#jumlah").val(),
                input_blokB =$("#blokB ").val(),
                input_blokC=$("#blokC").val(),
                input_blokD=$("#blokD").val(),
                input_blokE=$("#blokE").val();
    
    /* Cek kemudian print di url whatsapp api */
    
                /* Final Whatsapp URL */
                var blanter_whatsapp = walink + '?phone=' + phone + '&text=' + '%0A%0A' +
                    'Izin melaporakan, ' + '%0A' +
                    'giat sholat Isya berjamaah di masjid:' + '%0A' +
                    '----------------------------------' + '%0A' +
                    '```Blok B : '+ input_blokB +' orang' + '%0A' +
                    'Blok C : ' + input_blokC + ' orang' +'%0A' +
                    'Blok D : ' + input_blokD + ' orang' +'%0A' +
                    'Blok E : ' + input_blokE + ' orang' +'%0A' +
                    'JUMLAH : ' + input_jumlah + ' orang```' +'%0A' +
                    '----------------------------------' + '%0A' +
                    'Pengawasan rupam Siang, keadaan Aman🙏' + '%0A' ;
    
                /* Whatsapp Window Open */
                window.open(blanter_whatsapp, '_blank');
                document.getElementById("text-info").innerHTML = '<span class="yes">' + text_yes + '</span>';
            } else {
                document.getElementById("text-info").innerHTML = '<span class="no">' + text_no + '</span>';
            }
        });
    //]]>
    </script>
    
    </body>
    
    </HTML>